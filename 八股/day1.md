1. 一个可执行文件由一系列`section`构成,`section`称为段,包括:代码段`.text`、只读数据段`.rodata`、数据段`.data`、`.bss`段等.普通代码翻译成二进制放到代码段;常量放在只读数据段;初始化的全局变量和静态局部变量放在数据段;未初始化的全局变量和静态变量和未初始化的静态变量放在`.bss`段;`.init`段存储用来初始化程序所依赖的环境的汇编代码.`.bss`段在可执行文件中不占用空间,在程序运行的时候才分配对应的空间
    [](markdown图像集/2025-02-27-21-46-20.png)
2. 在`main`执行之前和之后执行的代码可能是什么?
   * `main`函数执行之前,主要就是初始化系统相关资源:
    - 设置栈指针
    - 初始化静态`static`变量和`global`全局变量,即`.data`段的内容
    - 将未初始化部分的全局变量赋初值:数值型`short`、`int`、`long`等为0,`bool`为`false`,指针为`null`等,即`.bss`段的内容
    - 全局对象初始化,在`main`之前调用构造函数,这是可能会在`main`执行前的一些代码
    - 将`main`函数的参数`argc`、`argv`等传递给`main`函数,然后才真正运行`main`函数
   * `main`函数执行之后:
    - 全局对象的析构函数会在`main`函数之后执行
    - 可以用`atexit`注册一个函数,它会在`main`之后执行(`C`库函数`int atexit(void (*func)(void))`当程序正常终止时,调用指定的函数`func`.您可以在任何地方注册你的终止函数,它会在主程序终止的时候被调用)
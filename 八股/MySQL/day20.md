1. `MySQL`的四种索引:
   * 全文索引:目前只有`MyISAM`引擎支持
   * 哈希索引:等值查询很快,但不支持范围查询
   * `BTREE`索引:`MySQL`默认的`B+TREE`索引就是
   * `RTREE`索引
2. 视图的作用是什么?可以更改吗?
   视图是虚拟的表,使用视图可以简化复杂的`SQL`操作,隐藏具体的细节,保护数据.要使视图可更新,视图中的行与基础表中的行之间必须存在一对一的关系.如果视图使用了聚合函数、`Distinct、Union`等时不可更新
3. 数据库索引采用`B+`树而不是`B`树的主要原因:
   * `B+`树的非叶子节点只存储索引,不存储数据,所以它的非叶子节点可以存储更多的键值(一页固定16K),因此其树的高度更低,`IO`操作次数更少
   * `B+`树采用的是双链表的有序连接,基于范围的顺序查找效率是远远高于`B`树的中序遍历查找范围的
4. 什么时候需要建立数据库索引呢?
   在最频繁使用的、用以缩小查询范围的字段,需要排序的字段上建立索引
5. 覆盖索引:如果一个索引保护所有需要查询的字段的指,就称之为覆盖索引.覆盖索引不会回表查询
6. `InnoDB`和`MyISAM`的区别和适用场景是什么?
   * 区别:
      - 事务:`MyISAM`不支持,`InnoDB`支持
      - 行级锁:`MyISAM`不支持,`InnoDB`支持
      - `MyISAM`存储表的总行数,`InnoDB`不存储总行数
      - `MyISAM`采用非聚集索引,`B+`树叶子存储执行数据文件的只在.`InnoDB`主键索引采用就离索引,`B+`树叶子直接存储数据记录
   * 适用场景
      - `MyISAM`适合:插入不频繁,查询非常频繁,如果执行大量的`select`,`MyISAM`是更好的选择,没有事务
      - `InnoDB`适合:可靠性要求比较高,或者要求事务;表更新和查询都相当的频繁,大量的`insert`或`update`
7. 事务的四个特性
   * 原子性:一个事务中的所有操作，要么全部完成，要么全部不完成，不会结束在中间某个环节，而且事务在执行过程中发生错误，会被回滚到事务开始前的状态，就像这个事务从来没有执行过一样
   * 一致性:是指事务操作前和操作后，数据库完整性不受破坏
   * 隔离性:数据库允许多个并发事务同时对其数据进行读写和修改的能力，隔离性可以防止多个事务并发执行时由于交叉执行而导致数据的不一致，因为多个事务同时使用相同的数据时，不会相互干扰，每个事务都有一个完整的数据空间，对其他并发事务是隔离的
   * 持久性:事务处理结束后，对数据的修改就是永久的，即便系统故障也不会丢失
8. `SQL`的`now()`和`current_date()`两个函数的区别?
   `now()`用于显示当前年份、月份、日期、小时、分钟和秒;`current_date()`仅显示当前年份、月份和日期
9. 聚集索引和二级索引的区别:聚集索引的叶子节点就是数据记录,可以直接通过聚集索引查到需要查找的数据;而二级索引的叶子节点是主键`id`,查询数据记录还需要一次回表查询
10. 创建索引时要注意什么?
    * 非空字段:应该指定列为`not null`,除非你想存储`null`.在`MySQL`中,含有空值的列很难进行查询优化,因为它们使得索引、索引的统计信息以及比较运算更加复杂.应该用0、一个特殊的值来代替空值
    * 取值离散大的字段放到联合索引前面
    * 索引字段越小越好:数据库的数据存储以页为单位,一页存储的数据越多,一次IO获取的数据就更多,即就能缩小IO操作的次数
11. `MySQL`的`char`和`varchar`区别:
    * `char`长度不可变;`varchar`长度可变
    * `char`的存取速度比`varchar`快得多
    * `char`对英文字符(`ASCII`)占用1个字节,对一个汉字占用2个字节;`varchar`对英文字符占用2个字节,汉字也占用2个字节    
12. 既然索引有那么多优点,为什么不对表中的每一列创建一个索引呢?
    * 当对表中的数据进行增删改时,索引也要动态的维护,这样就降低了数据的维护速度，维护成本
    * 索引需要占物理空间,除了数据表占数据空间外,每个索引还要占一定的物理空间,如果要建立每一列一个索引,那么需要的空间就会很大，物理空间成本
13. 主键和外键:
    * 主键:主键是一行数据的唯一标识,要求非空且唯一.主键字段的值必须唯一;主键字段不能为空;每个表只能有一个主键
    * 外键:外键是用于建立和加强两个表数据之间链接的字段.它(子表)引用(指向)父表的主键,从而保证数据的一致性和完整性.外键字段的值可以是空;外键字段的值必须在父表的主键中存在;一个表中可以有多个外键
    ![](markdown图像集/2025-04-08-13-20-13.png) 
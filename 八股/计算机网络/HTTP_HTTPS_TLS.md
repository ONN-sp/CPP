1. `HTTP`和`HTTPS`的区别
   * 加密和安全性:`HTTP`是明文传输,无加密;`HTTPS`使用`SSL/TLS`加密,确保数据机密性和完整性
   * `HTTP`默认端口是80;`HTTPS`默认端口是443
   * `HTTP`无证书要求;`HTTPS`需`CA`签发数字证书,验证服务器身份
   * 现在许多流行浏览器`HTTP2`只支持通过`HTTPS`使用`HTTP2`
   * `HTTP`无加密开销,传输速度快,但安全性低;`HTTPS`加密/解密过程会增加计算开销,但更安全
2. 对称加密算法:加密和解密都是使用同一个密钥,常见的算法有:`DES、3DES、ASE`.其优缺点
   * 优点:算法公开、计算量小、加密速度快、加密效率高,适合加密比较大的数据
   * 缺点:通信双方需要交易密钥,但是密钥在传输过程中无法保证不被截获,因此对称加密的安全性得不到保证;每对用户每次使用对称加密算法时,都需要使用其它人不知道的惟一密钥,这回使得收发双方所拥有的钥匙数量急剧增长,密钥管理称为双方的负担
3. 非对称加密:加密/解密使用两个不同的密钥,即公钥和私钥,常用的非对称加密算法:`RSA`算法.其优缺点
   * 优点:算法公开,加密和解密使用不同的钥匙,私钥不需要通过网络进行传输,安全性高
   * 缺点:计算量较大,加密和解密速度相比对称加密慢很多
4. 由于非对称加密的强安全性,可以用它完美解决对称加密的密钥泄露问题
   ![](markdwon图像集/2025-03-29-19-39-59.png)
5. `SSL/TLS`是`TCP`和`HTTP`之间的安全层   
6. `TLS`基于`TCP`,建立两个应用进程之间的安全传输连接,其主要作用:
   * 完成身份鉴别
   * 安全地共享一对协商密钥来进行对称加密
   * 保证报文的完整性,防止被篡改
   * 预防恶意的重放攻击
7. `TLS`是一个协议簇,最主要的两个协议是
   * `TLS`握手协议:用于加密、身份鉴别
   * `TLS`记录协议:用于保证报文的完整性和防重放攻击.`TLS`记录协议是实际对`HTTP`报文处理的协议:分段、压缩、计算`MAC`、加密、添加`TLS`首部,`TLS`记录协议就是将`TLS`握手商量得到的加密算法进行加密后的数据封装成`TLS`报文再通过`TCP`发送对端
8. `HTTPS`的加密、解密、验证及数据传输过程
   * 客户端请求`HTTPS`网址,然后连接到`server`的443端口(`HTTPS`默认端口,类似于`HTTP`的80端口)
   * .采用 HTTPS 协议的服务器必须要有一套数字 CA (Certification Authority)证书，证书是需要申请的，并由专门的数字证书认证机构(CA)通过非常严格的审核之后颁发的电子证书.颁发证书的同时会产生一个私钥和公钥。私钥由服务端自己保存，不可泄漏。公钥则是附带在证书的信息中，可以公开的。证书本身也附带一个证书电子签名，这个签名用来验证证书的完整性和真实性，可以防止证书被篡改
   * 服务器响应客户端请求，将证书传递给客户端，证书包含公钥和大量其他信息，比如证书颁发机构信息，公司信息和证书有效期等
   * 客户端解析证书并对其进行验证。如果证书不是可信机构颁布，或者证书中的域名与实际域名不一致，或者证书已经过期，就会向访问者显示一个警告，由其选择是否还要继续通信.如果证书没有问题，客户端就会从服务器证书中取出服务器的公钥A。然后客户端还会生成一个随机码 KEY(用于后续的对称加密通信时的对称密钥)，并使用公钥A将其加密
   * 客户端把加密后的随机码 KEY 发送给服务器，作为后面对称加密的密钥
   * 服务器在收到随机码 KEY 之后会使用私钥B将其解密,服务器就拿到了这个用于后续对称加密的密钥。经过以上这些步骤，客户端和服务器终于建立了安全连接，完美解决了对称加密的密钥泄露问题，接下来就可以用对称加密愉快地进行通信了
   * 服务器使用密钥 (随机码 KEY)对数据进行对称加密并发送给客户端，客户端使用相同的密钥 (随机码 KEY)解密数据
   ![](markdwon图像集/2025-03-29-19-56-34.png)
9.  为什么需要数字证书?
   在非对称加密通信过程中，服务器需要将公钥发送给客户端，在这一过程中，公钥很可能会被第三方拦截并替换，然后这个第三方就可以冒充服务器与客户端进行通信，这就是传说中的“中间人攻击”(man in the middle attack)。解决此问题的方法是通过受信任的第三方交换公钥，具体做法就是服务器不直接向客户端发送公钥，而是要求受信任的第三方，也就是证书认证机构 (Certificate Authority, 简称 CA)将公钥合并到数字证书中，然后服务器会把公钥连同证书一起发送给客户端，私钥则由服务器自己保存以确保安全.数字证书一般包含以下内容：证书所有者的公钥;证书所有者的专有名称;证书颁发机构的专有名称;证书的有效起始日期;证书的过期日期;证书数据格式的版本号等等
10. 为什么需要数字签名?怎么通过数字前面验证证书是否安全?
   数字签名用于验证证书是否被篡改.数字签名的生成和验证流程如下:
   * 服务器对证书内容进行信息摘要计算 (常用算法有 SHA-256等)，得到摘要信息，再用私钥把摘要信息加密，就得到了数字签名
   * 服务器把数字证书连同数字签名一起发送给客户端
   * 客户端用公钥解密数字签名，得到摘要信息
   * 客户端用相同的信息摘要算法重新计算证书摘要信息，然后对这两个摘要信息进行比对，如果相同，则说明证书未被篡改，否则证书验证失败
11. `TLS`由`SSL`发展而来.`TLS`握手是启动`HTTPS`通信的基础,类似`TCP`三次握手.`TLS`握手的过程中,通信双方交换消息以相互验证,并确立它们所要使用的加密算法以及会话密钥.`TLS`握手详细过程:
   ![](markdwon图像集/2025-03-29-20-09-04.png)
   ![](markdwon图像集/2025-03-29-20-10-08.png)